<?xml version="1.0" encoding="utf-8" ?>
<Patch>

  <Operation Class="XmlExtensions.OptionalPatch">
    <modId>Harkon.GunNut.CORE</modId>
    <key>replaceCEWeaponSound</key>
    <defaultValue>true</defaultValue>
    <caseTrue>

      <Operation Class="PatchOperationFindMod">
        <mods>
          <li>Combat Extended</li>
        </mods>
        <match Class="PatchOperationSequence">

          <!-- === M79 === -->
          <li Class="PatchOperationReplace">
            <xpath>/Defs/ThingDef[defName="CE_GrenadeLauncher"]/verbs/li/soundCast</xpath>

            <value>
              <soundCast>Shot_CEG_Milkor</soundCast>
            </value>
          </li>

          <!-- === M72 LAW === -->
          <li Class="PatchOperationReplace">
            <xpath>/Defs/ThingDef[defName="CE_DisposableRocketLauncher"]/verbs/li/soundCast</xpath>

            <value>
              <soundCast>Shot_CEG_M72LAW</soundCast>
            </value>
          </li>

          <!-- === M240B / KPV === -->
          <li Class="PatchOperationReplace">
            <xpath>/Defs/ThingDef[@Name="BaseTurretGun"]/soundInteract</xpath>

            <value>
              <soundInteract>Interact_CE_Turrets</soundInteract>
            </value>
          </li>

        </match>
      </Operation>

    </caseTrue>
  </Operation>

</Patch>